!function(t){t(document).on("click","[data-display]",function(e){e.preventDefault();var i=t(this).attr("data-display");t("#"+i).display(t(this).data())}),t.fn.display=function(e){var i={animation:"fade",animationspeed:200,closeBGclick:!0};return e=t.extend({},i,e),this.each(function(){function i(){n=!1}function o(){n=!0}var s,a=t(this),n=!1,r=t(".portBox-overlay"),l=!1;navigator.userAgent.match(/Windows Phone/i)&&(l=!0),0==r.length&&(r=t('<div class="portBox-overlay" />').insertAfter(a)),s="function"==typeof t.fn.slimScroll?!0:!1,0==a.has(".scrollBar").length&&1==s&&(a.wrapInner('<div class="scrollBar" style="padding-right:20px;" />'),a.css({"padding-right":10}),t(function(){t(".scrollBar").slimScroll({height:"100%"})})),0==a.has(".close-portBox").length&&0==s&&a.append('<a class="close-portBox">&#215;</a>'),a.center=function(){var e,i;if(a.outerHeight()+25>t(window).height()&&s===!0&&l===!1){var o=t(window).height()-80;a.css({height:o+"px"})}a.css({top:0,left:0}),e=Math.max(t(window).height()-a.outerHeight(),0)/2,i=Math.max(t(window).width()-a.outerWidth(),0)/2,a.css({top:e+t(window).scrollTop(),left:i+t(window).scrollLeft()}),a.innerWidth()+10>=t(window).width()?(a.css({"margin-right":"5px"}),t(".close-portBox").css({top:3,right:3})):(a.css({"margin-right":"0px"}),t(".close-portBox").css({top:-6,right:-7})),a.outerHeight()>=t(window).height()&&0==s&&a.css({top:20+t(window).scrollTop()})},a.center(),t(window).on("resize.portBox",a.center),a.on("portBox:open",function(){n||(o(),""==e.animation?(a.css({display:"block"}),r.css({display:"block"}),i()):(r.fadeIn(e.animationspeed),a.show(e.animation,e.animationspeed),i()))}),a.on("portBox:close",function(){n||(o(),""==e.animation?(a.css({display:"none"}),r.css({display:"none"}),i()):(r.fadeOut(e.animationspeed),a.fadeOut(e.animationspeed),i()),t(window).off("resize.portBox"))}),a.trigger("portBox:open");t(".close-portBox").one("click.portBoxEvent",function(){a.trigger("portBox:close")});e.closeBGclick&&(r.css({cursor:"pointer"}),r.one("click.portBoxEvent",function(){a.trigger("portBox:close")})),t("body").keyup(function(t){27===t.which&&a.trigger("portBox:close")})})}}(jQuery),function(t){jQuery.fn.extend({slimScroll:function(e){var i={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200},o=t.extend(i,e);return this.each(function(){function i(e){if(c){var e=e||window.event,i=0;e.wheelDelta&&(i=-e.wheelDelta/120),e.detail&&(i=e.detail/3);var a=e.target||e.srcTarget;t(a).closest("."+o.wrapperClass).is(y.parent())&&s(i,!0),e.preventDefault&&!x&&e.preventDefault(),x||(e.returnValue=!1)}}function s(t,e,i){var s=t,a=y.outerHeight()-C.outerHeight();if(e&&(s=parseInt(C.css("top"))+t*parseInt(o.wheelStep)/100*C.outerHeight(),s=Math.min(Math.max(s,0),a),s=t>0?Math.ceil(s):Math.floor(s),C.css({top:s+"px"})),f=parseInt(C.css("top"))/(y.outerHeight()-C.outerHeight()),s=f*(y[0].scrollHeight-y.outerHeight()),i){s=t;var n=s/y[0].scrollHeight*y.outerHeight();n=Math.min(Math.max(n,0),a),C.css({top:n+"px"})}y.scrollTop(s),y.trigger("slimscrolling",~~s),r(),l()}function a(){window.addEventListener?(this.addEventListener("DOMMouseScroll",i,!1),this.addEventListener("mousewheel",i,!1)):document.attachEvent("onmousewheel",i)}function n(){g=Math.max(y.outerHeight()/y[0].scrollHeight*y.outerHeight(),m),C.css({height:g+"px"});var t=g==y.outerHeight()?"none":"block";C.css({display:t})}function r(){if(n(),clearTimeout(d),f==~~f&&(x=o.allowPageScroll,w!=f)){var t=0==~~f?"top":"bottom";y.trigger("slimscroll",t)}return w=f,g>=y.outerHeight()?void(x=!0):(C.stop(!0,!0).fadeIn("fast"),void(o.railVisible&&H.stop(!0,!0).fadeIn("fast")))}function l(){o.alwaysVisible||(d=setTimeout(function(){o.disableFadeOut&&c||h||p||(C.fadeOut("slow"),H.fadeOut("slow"))},1e3))}var c,h,p,d,u,g,f,w,v="<div></div>",m=30,x=!1,y=t(this);if(y.parent().hasClass(o.wrapperClass)){var b=y.scrollTop();if(C=y.parent().find("."+o.barClass),H=y.parent().find("."+o.railClass),n(),t.isPlainObject(e)){if("scrollTo"in e)b=parseInt(o.scrollTo);else if("scrollBy"in e)b+=parseInt(o.scrollBy);else if("destroy"in e)return C.remove(),H.remove(),void y.unwrap();s(b,!1,!0)}}else{o.height="auto"==o.height?y.parent().innerHeight():o.height;var B=t(v).addClass(o.wrapperClass).css({position:"relative",overflow:"hidden",width:o.width,height:o.height});y.css({overflow:"hidden",width:o.width,height:o.height});var H=t(v).addClass(o.railClass).css({width:o.size,height:"100%",position:"absolute",top:0,display:o.alwaysVisible&&o.railVisible?"block":"none","border-radius":o.size,background:o.railColor,opacity:o.railOpacity,zIndex:90}),C=t(v).addClass(o.barClass).css({background:o.color,width:o.size,position:"absolute",top:0,opacity:o.opacity,display:o.alwaysVisible?"block":"none","border-radius":o.size,BorderRadius:o.size,MozBorderRadius:o.size,WebkitBorderRadius:o.size,zIndex:99}),S="right"==o.position?{right:o.distance}:{left:o.distance};H.css(S),C.css(S),y.wrap(B),y.parent().append(C),y.parent().append(H),o.railDraggable&&C.draggable({axis:"y",containment:"parent",start:function(){p=!0},stop:function(){p=!1,l()},drag:function(e){s(0,t(this).position().top,!1)}}),H.hover(function(){r()},function(){l()}),C.hover(function(){h=!0},function(){h=!1}),y.hover(function(){c=!0,r(),l()},function(){c=!1,l()}),y.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(u=t.originalEvent.touches[0].pageY)}),y.bind("touchmove",function(t){if(t.originalEvent.preventDefault(),t.originalEvent.touches.length){var e=(u-t.originalEvent.touches[0].pageY)/o.touchScrollStep;s(e,!0)}}),"bottom"===o.start?(C.css({top:y.outerHeight()-C.outerHeight()}),s(0,!0)):"top"!==o.start&&(s(t(o.start).position().top,null,!0),o.alwaysVisible||C.hide()),a(),n()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery);